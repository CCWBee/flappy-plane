<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#16213e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Plane Arcade</title>
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; min-height: 100vh;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      font-family: Arial, Helvetica, sans-serif;
      color: #fff;
      -webkit-tap-highlight-color: transparent;
    }
    h1 {
      text-align: center;
      font-size: clamp(28px, 6vw, 48px);
      padding: 32px 16px 8px;
      text-shadow: 0 0 20px rgba(77,201,246,0.4);
      letter-spacing: 2px;
    }
    .subtitle {
      text-align: center;
      font-size: clamp(12px, 2.5vw, 16px);
      opacity: 0.5;
      margin-bottom: 24px;
    }
    .game-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      max-width: 700px;
      margin: 0 auto;
      padding: 0 20px 40px;
    }
    @media (min-width: 560px) {
      .game-grid { grid-template-columns: 1fr 1fr; }
    }
    .game-card {
      display: block;
      background: rgba(255,255,255,0.07);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 16px;
      text-decoration: none;
      color: #fff;
      transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
    }
    .game-card:hover, .game-card:active {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.4);
      background: rgba(255,255,255,0.12);
    }
    .game-card canvas {
      width: 100%;
      height: 160px;
      border-radius: 8px;
      display: block;
      pointer-events: none;
    }
    .game-card h2 {
      margin: 12px 0 4px;
      font-size: 20px;
    }
    .game-card p {
      opacity: 0.6;
      font-size: 14px;
      line-height: 1.4;
    }
    .play-label {
      display: inline-block;
      margin-top: 10px;
      padding: 6px 20px;
      background: rgba(77,201,246,0.2);
      border: 1px solid rgba(77,201,246,0.4);
      border-radius: 20px;
      font-size: 13px;
      font-weight: bold;
      letter-spacing: 1px;
      transition: background 0.2s;
    }
    .game-card:hover .play-label {
      background: rgba(77,201,246,0.35);
    }
  </style>
</head>
<body>
  <h1>PLANE ARCADE</h1>
  <div class="subtitle">Pick a game</div>
  <div class="game-grid">
    <a href="flappy/" class="game-card">
      <canvas id="pv-flappy" width="560" height="320"></canvas>
      <h2>Flappy Plane</h2>
      <p>Tap to fly through the gaps. Simple and addictive!</p>
      <span class="play-label">PLAY</span>
    </a>
    <a href="tu95/" class="game-card">
      <canvas id="pv-tu95" width="560" height="320"></canvas>
      <h2>TU-95</h2>
      <p>Pilot a bomber through challenging missions. Takeoff, fly, and land!</p>
      <span class="play-label">PLAY</span>
    </a>
  </div>

  <script>
    // Animated previews
    const dpr = window.devicePixelRatio || 1;

    // --- Flappy preview ---
    (function() {
      const c = document.getElementById('pv-flappy');
      const ctx = c.getContext('2d');
      const w = 560, h = 320;
      c.width = w; c.height = h;
      let f = 0;
      const clouds = [{x:50,y:60,s:40},{x:200,y:40,s:30},{x:380,y:70,s:35}];
      function draw() {
        f++;
        // Sky
        const g = ctx.createLinearGradient(0,0,0,h);
        g.addColorStop(0,'#4dc9f6'); g.addColorStop(1,'#87CEEB');
        ctx.fillStyle = g; ctx.fillRect(0,0,w,h);
        // Clouds
        ctx.fillStyle = 'rgba(255,255,255,0.6)';
        clouds.forEach(cl => {
          const cx = ((cl.x - f*0.3) % (w+80) + w+80) % (w+80) - 40;
          ctx.beginPath();
          ctx.arc(cx, cl.y, cl.s*0.5, 0, Math.PI*2);
          ctx.arc(cx+cl.s*0.35, cl.y-8, cl.s*0.35, 0, Math.PI*2);
          ctx.arc(cx+cl.s*0.65, cl.y, cl.s*0.3, 0, Math.PI*2);
          ctx.fill();
        });
        // Ground
        ctx.fillStyle = '#4CAF50'; ctx.fillRect(0, h-40, w, 40);
        ctx.fillStyle = '#8B6914'; ctx.fillRect(0, h-30, w, 30);
        // Pipe
        const px = ((400 - f*1.5) % 400 + 400) % 400 + 80;
        ctx.fillStyle = '#5CBF5C';
        ctx.fillRect(px, 0, 40, 100);
        ctx.fillRect(px, 200, 40, 120);
        ctx.fillStyle = '#4AAE4A';
        ctx.fillRect(px-4, 85, 48, 18);
        ctx.fillRect(px-4, 200, 48, 18);
        // Plane
        const py = 150 + Math.sin(f*0.06)*20;
        ctx.save(); ctx.translate(180, py); ctx.rotate(Math.sin(f*0.06)*0.15);
        ctx.fillStyle = '#E8E8E8';
        ctx.beginPath(); ctx.ellipse(0,0,18,8,0,0,Math.PI*2); ctx.fill();
        ctx.fillStyle = '#FF6B6B';
        ctx.beginPath(); ctx.moveTo(16,-2); ctx.lineTo(22,0); ctx.lineTo(16,2); ctx.fill();
        ctx.fillStyle = '#4A90D9';
        ctx.beginPath(); ctx.moveTo(-3,-2); ctx.lineTo(-8,-14); ctx.lineTo(5,-2); ctx.fill();
        ctx.beginPath(); ctx.moveTo(-3,2); ctx.lineTo(-8,14); ctx.lineTo(5,2); ctx.fill();
        ctx.restore();
        requestAnimationFrame(draw);
      }
      draw();
    })();

    // --- TU-95 preview ---
    (function() {
      const c = document.getElementById('pv-tu95');
      const ctx = c.getContext('2d');
      const w = 560, h = 320;
      c.width = w; c.height = h;
      let f = 0;
      function draw() {
        f++;
        // Sky
        const g = ctx.createLinearGradient(0,0,0,h);
        g.addColorStop(0,'#1e3a5f'); g.addColorStop(1,'#5b8cbe');
        ctx.fillStyle = g; ctx.fillRect(0,0,w,h);
        // Far mountains
        ctx.fillStyle = '#2c3e50';
        ctx.beginPath(); ctx.moveTo(0,h);
        const mOff = (f*0.2) % 300;
        for(let x=-100; x<w+200; x+=150) {
          ctx.lineTo(x-mOff, h-80-Math.sin(x*0.01)*40);
        }
        ctx.lineTo(w,h); ctx.fill();
        // Near hills
        ctx.fillStyle = '#3a5f3a';
        ctx.beginPath(); ctx.moveTo(0,h);
        const hOff = (f*0.5) % 200;
        for(let x=-50; x<w+100; x+=100) {
          ctx.lineTo(x-hOff, h-40-Math.sin(x*0.02)*25);
        }
        ctx.lineTo(w,h); ctx.fill();
        // Ground
        ctx.fillStyle = '#4a7c3f'; ctx.fillRect(0,h-35,w,35);
        ctx.fillStyle = '#3d2b1f'; ctx.fillRect(0,h-20,w,20);
        // Runway
        ctx.fillStyle = '#444';
        const rOff = (f*0.8) % 800;
        ctx.fillRect(300-rOff, h-40, 250, 12);
        ctx.strokeStyle='#fff'; ctx.lineWidth=1; ctx.setLineDash([10,8]);
        ctx.beginPath(); ctx.moveTo(300-rOff,h-34); ctx.lineTo(550-rOff,h-34); ctx.stroke();
        ctx.setLineDash([]);
        // TU-95 plane
        const px = w*0.4, py = h*0.35 + Math.sin(f*0.03)*15;
        ctx.save(); ctx.translate(px, py); ctx.rotate(Math.sin(f*0.03)*0.08);
        // Fuselage
        ctx.fillStyle = '#708090';
        ctx.beginPath(); ctx.ellipse(0,0,32,6,0,0,Math.PI*2); ctx.fill();
        // Nose
        ctx.fillStyle = '#a0a0a0';
        ctx.beginPath(); ctx.moveTo(30,-2); ctx.lineTo(40,0); ctx.lineTo(30,2); ctx.fill();
        // Wings
        ctx.fillStyle = '#607080';
        ctx.beginPath(); ctx.moveTo(4,-4); ctx.lineTo(-10,-28); ctx.lineTo(-14,-26); ctx.lineTo(0,-4); ctx.fill();
        ctx.beginPath(); ctx.moveTo(4,4); ctx.lineTo(-10,28); ctx.lineTo(-14,26); ctx.lineTo(0,4); ctx.fill();
        // Engines
        ctx.fillStyle = '#444';
        [[-5,-14],[-2,-9],[-5,14],[-2,9]].forEach(([ex,ey])=>{
          ctx.beginPath(); ctx.arc(ex,ey,2,0,Math.PI*2); ctx.fill();
        });
        // Tail
        ctx.fillStyle = '#b22222';
        ctx.beginPath(); ctx.moveTo(-28,0); ctx.lineTo(-33,-10); ctx.lineTo(-30,-10); ctx.lineTo(-26,0); ctx.fill();
        // Cockpit
        ctx.fillStyle = '#87CEEB';
        ctx.beginPath(); ctx.ellipse(22,-1,4,2,0,0,Math.PI*2); ctx.fill();
        ctx.restore();
        // Clouds
        ctx.fillStyle = 'rgba(255,255,255,0.3)';
        const cOff = (f*0.4) % (w+100);
        ctx.beginPath();
        ctx.arc(w-cOff, 60, 20, 0, Math.PI*2);
        ctx.arc(w-cOff+18, 55, 15, 0, Math.PI*2);
        ctx.arc(w-cOff+32, 60, 13, 0, Math.PI*2);
        ctx.fill();
        requestAnimationFrame(draw);
      }
      draw();
    })();

    // Register service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js').catch(() => {});
    }
  </script>
</body>
</html>
